(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),s=a.n(o),c=(a(15),a(1)),i=a(2),l=a(4),d=a(3),u=a(5),p=a(6),h=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.selectCard=function(){a.props.selectCardFn(a.props.objKey)},a.getDisplayValue=function(e){var t=e+1;if(t>1&&t<=10)return t.toString();switch(t){case 1:return"A";case 11:return"J";case 12:return"Q";case 13:return"K";default:return"E"}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this.selectCard,style:{boxSizing:"border-box",border:this.props.selected?"2px solid red":"1px solid grey",textAlign:"left",borderRadius:10,height:this.props.height,width:this.props.width,padding:5,color:"\u2665"===this.props.suit||"\u2666"===this.props.suit?"red":"black",backgroundColor:"white",marginTop:this.props.verticalMargin,position:"relative",zIndex:this.props.dispIndex||0}},r.a.createElement("div",null,this.props.suit,this.getDisplayValue(this.props.rank)),r.a.createElement("div",{style:{marginTop:this.props.height-55,textAlign:"right"}},this.getDisplayValue(this.props.rank),this.props.suit))}}]),t}(n.Component),m=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{border:"1px solid grey",width:this.props.width,height:this.props.height,backgroundColor:"cream",margin:this.props.cardMargins/2},onClick:function(){null===e.props.card&&e.props.selectEmptySquareFn(e.props.location)}},null!==this.props.card?r.a.createElement(h,{suit:this.props.card.suit,rank:this.props.card.rank,height:this.props.height,width:this.props.width,selected:this.props.card.selected,selectCardFn:this.props.selectCardFn,objKey:this.props.card.rank+this.props.card.suit}):null)}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{border:"1px solid grey",width:this.props.width,height:this.props.height,backgroundColor:"cream",margin:this.props.cardMargins/2},onClick:function(){e.props.cards.length||e.props.selectEmptySquareFn(e.props.location)}},this.props.cards&&this.props.cards.length?r.a.createElement(h,{suit:this.props.cards[this.props.cards.length-1].suit,rank:this.props.cards[this.props.cards.length-1].rank,height:this.props.height,width:this.props.width,selected:this.props.cards[this.props.cards.length-1].selected,selectCardFn:this.props.selectCardFn,key:this.props.cards[this.props.cards.length-1].rank+this.props.cards[this.props.cards.length-1].suit,objKey:this.props.cards[this.props.cards.length-1].rank+this.props.cards[this.props.cards.length-1].suit}):null)}}]),t}(n.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=-this.props.cardHeight+Math.round(.33*this.props.cardHeight);return r.a.createElement("div",{style:{paddingTop:-t,paddingLeft:this.props.cardMargins/2,paddingRight:this.props.cardMargins/2,border:"1px solid grey",width:this.props.cardWidth,minHeight:this.props.cardHeight},onClick:function(){e.props.cards.length||e.props.selectEmptySquareFn(e.props.location)}},this.props.cards&&this.props.cards.length?this.props.cards.map(function(a,n){return r.a.createElement(h,{rank:a.rank,suit:a.suit,height:e.props.cardHeight,width:e.props.cardWidth,verticalMargin:t,selectCardFn:e.props.selectCardFn,selected:a.selected,key:a.rank+a.suit,location:e.props.location,index:n,objKey:a.rank+a.suit,maxIndex:e.props.cards.length-1,dispIndex:n})}):null)}}]),t}(n.Component),g=["\u2663","\u2666","\u2665","\u2660"],C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={cards:{},gameInProgress:!1,cascades:[[],[],[],[],[],[],[],[]],freeCells:[null,null,null,null],foundations:[[],[],[],[]],selectedKey:null,width:0,height:0,gameWon:!1},a.componentDidMount=function(){a.updateWindowDimensions(),window.addEventListener("resize",a.updateWindowDimensions),a.generateCards()},a.componentWillUnmount=function(){window.removeEventListener("resize",a.updateWindowDimensions)},a.updateWindowDimensions=function(){a.setState({width:window.innerWidth,height:window.innerHeight})},a.generateCards=function(){var e={};g.forEach(function(t){for(var a=0;a<=12;a++)e[a+t]={suit:t,rank:a,location:null,selected:!1,objKey:a+t}}),a.setState({cards:e},function(){a.shuffleCards()})},a.shuffleCards=function(){var e=[];g.forEach(function(t){for(var a=0;a<=12;a++)e.push({suit:t,rank:a})});var t=e.map(function(e){return[Math.random(),e]}).sort(function(e,t){return e[0]-t[0]}).map(function(e){return e[1]}),n=Object(p.a)({},a.state.cards);t.forEach(function(e,t){var a=t%8,r=Math.floor(t/8),o=e.rank+e.suit;n[o].location="cascade",n[o].column=a,n[o].position=r}),a.setState({cards:n},function(){a.displayCards()})},a.cardsCanStack=function(e,t,n){var r=a.state.cards[e],o=a.state.cards[t];return"cascade"===n?o.rank-1===r.rank&&a.getCardColor(o)!==a.getCardColor(r):"foundation"===n?o.suit===r.suit&&o.rank+1===r.rank:(console.error("GameArea.jsx -> cardsCanStack function: incorrect stack type specified"),!1)},a.gameWon=function(){alert("YOU WIN!!!")},a.displayCards=function(){var e=Object(p.a)({},a.state.cards),t=[[],[],[],[],[],[],[],[]],n=[[],[],[],[]],r=[null,null,null,null],o=!0;for(var s in e)"cascade"===e[s].location?(t[e[s].column][e[s].position]=e[s],o=!1):"foundation"===e[s].location?n[e[s].column][e[s].position]=e[s]:"freeCell"===e[s].location&&(r[e[s].column]=e[s],o=!1);a.setState({cards:e,cascades:t,foundations:n,freeCells:r,selectedKey:null,gameWon:o}),o&&a.gameWon()},a.selectEmptySquareFn=function(e){var t=a.state.selectedKey;if(t){var n=e.match(/(\w+)(\d+)/),r=n[1],o=n[2];"foundation"===r?a.tryToStackCardOnFoundation({cardKey:t,column:o}):"freeCell"===r?a.checkToMoveToFreeCell({cardKey:t,column:o}):"cascade"===r&&a.tryToMoveToEmptyCascade({cardKey:t,column:o})}},a.selectCardFn=function(e){var t=Object(p.a)({},a.state.cards);if(a.state.selectedKey&&a.state.selectedKey===e){if(a.tryToStackCardOnFoundation({cardKey:a.state.selectedKey,column:0})||a.tryToStackCardOnFoundation({cardKey:a.state.selectedKey,column:1})||a.tryToStackCardOnFoundation({cardKey:a.state.selectedKey,column:2})||a.tryToStackCardOnFoundation({cardKey:a.state.selectedKey,column:3}))return;return t[e].selected=!1,void a.setState({cards:t,selectedKey:null})}if(!a.state.selectedKey){var n=t[e];console.log("Clicked card:",n);var r=n;if("cascade"===n.location){var o=n.column;console.log("selectedCol: ",o),r=a.state.cascades[o][a.state.cascades[o].length-1],console.log("selectedColTopCard: ",r)}return t[r.objKey].selected=!0,console.log("setting selectedKey: selectedCard.objKey",r.objKey),void a.setState({cards:t,selectedKey:r.objKey})}var s=a.state.cards[e];"foundation"!==s.location?"cascade"===s.location&&a.tryToMoveToCascade({cardKey:a.state.selectedKey,column:s.column}):a.tryToStackCardOnFoundation({cardKey:a.state.selectedKey,column:s.column})},a.moveCard=function(e){var t=e.cardKey,n=e.location,r=e.column,o=e.position,s=Object(p.a)({},a.state.cards),c=s[t];c.location=n,c.column=r,c.position=o,c.selected=!1,s[a.state.selectedKey].selected=null,a.setState({cards:s,selectedKey:null},function(){a.displayCards()})},a.checkToMoveToFreeCell=function(e){var t=e.cardKey,n=e.column;a.state.freeCells[n]?console.error("Attempted to move to non-empty freeCell which should not be possible."):a.moveCard({cardKey:t,location:"freeCell",column:n,position:0})},a.tryToStackCardOnFoundation=function(e){var t=e.cardKey,n=e.column,r=Object(p.a)({},a.state.cards),o=r[t];if(0===a.state.foundations[n].length){if(0!==o.rank)return!1}else{var s=a.state.foundations[n].length,c=a.state.foundations[n][s-1];if(o.suit!==c.suit)return!1;if(o.rank-1!==c.rank)return!1}return a.moveCard({cardKey:t,location:"foundation",column:n,position:r[t].rank}),!0},a.tryToMoveToEmptyCascade=function(e){var t=e.cardKey,n=e.column;a.state.cascades[n].length>0?console.error("Attempted to move to non-empty cascade, which should not be possible"):a.moveCard({cardKey:t,location:"cascade",column:n,position:0})},a.tryToMoveToCascade=function(e){var t=e.cardKey,n=e.column,r=Object(p.a)({},a.state.cards)[t],o=a.state.cascades[n].length,s=a.state.cascades[n][o-1];a.getCardColor(r)!==a.getCardColor(s)&&r.rank+1===s.rank&&a.moveCard({cardKey:t,location:"cascade",column:n,position:s.position+1})},a.getCardColor=function(e){return"\u2666"===e.suit||"\u2665"===e.suit?"red":"black"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=Math.min(Math.round(this.state.width/12),Math.round(this.state.height/12)),a=Math.round(1.4*t),n=Math.round(.02*this.state.width);return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("button",{style:{marginLeft:20},onClick:this.generateCards},"New Game"),r.a.createElement("span",{style:{fontSize:"0.7em"}}," ","(Warning - this will end your current game.)"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{margin:n}},r.a.createElement("h4",{style:{textAlign:"center"}},"Foundations"),r.a.createElement("div",{style:{display:"flex"}},this.state.foundations.map(function(o,s){return r.a.createElement(y,{height:a,width:t,key:"foundation"+s,location:"foundation"+s,selectCardFn:e.selectCardFn,selectEmptySquareFn:e.selectEmptySquareFn,cards:o,cardMargins:n})}))),r.a.createElement("div",{style:{margin:n}},r.a.createElement("h4",{style:{textAlign:"center"}},"FreeCells"),r.a.createElement("div",{style:{display:"flex"}},this.state.freeCells.map(function(o,s){return r.a.createElement(m,{width:t,height:a,key:"freeCell"+s,location:"freeCell"+s,selectCardFn:e.selectCardFn,selectEmptySquareFn:e.selectEmptySquareFn,card:o,cardMargins:n})})))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},this.state.cascades.map(function(o,s){return r.a.createElement(f,{className:"Cascade",cards:o,cardWidth:t,cardHeight:a,selectCardFn:e.selectCardFn,selectEmptySquareFn:e.selectEmptySquareFn,key:"cascade"+s,location:"cascade"+s,cardMargins:n})})))}}]),t}(n.Component);function v(){return r.a.createElement("div",{style:{marginTop:25,textAlign:"center"}},r.a.createElement("a",{href:"https://github.com/scotteratigan/reactcell/",target:"_blank",rel:"noopener noreferrer"},"Source Code")," ","|"," ",r.a.createElement("a",{href:"https://scotteratigan.github.io/",target:"_blank",rel:"noopener noreferrer"},"My Portfolio")," ","|"," ",r.a.createElement("a",{href:"https://www.linkedin.com/in/scotteratigan/",target:"_blank",rel:"noopener noreferrer"},"LinkedIn"))}var b=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginTop:20,textAlign:"center"}},r.a.createElement("h1",null,r.a.createElement("em",null,"React"),"Cell"),r.a.createElement("h4",null,"A FreeCell clone by Scott Ratigan")),r.a.createElement(C,null),r.a.createElement(v,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.70cfb49b.chunk.js.map